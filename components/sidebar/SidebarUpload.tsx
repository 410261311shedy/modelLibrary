'use client'
import React from 'react';
import { Button } from "@heroui/react";
// import StepItem from "./StepItem"; // 如果分開寫的話
import StepItem from '../StepItem';
import { Link } from '@heroui/react';
import { MoveRight,MoveLeft } from 'lucide-react';
interface SidebarUploadProps {
    currentStep: number;
    onNext:()=>void;
    onBack:()=>void;
}

const SidebarUpload = ({ currentStep,onNext,onBack }: SidebarUploadProps) => {
return (
    <aside style={{backdropFilter:'blur(100px)',backgroundColor: '#A1A1AA40',}} className="w-[32dvh] px-5 py-8 flex flex-col shadow-[inset_0_0_20px_rgba(255,255,255,0.1)] justify-between h-full">
        <div className=''>
            <h2 className="text-2xl font-bold text-white">Model Card Creator</h2>
            <p className="text-gray-400 text-sm mt-2">Follow the steps to create your own model card</p>
            
            <div className="mt-12 pl-2">
                <StepItem 
                    number={1} 
                    title="Model Upload" 
                    description="Upload your files here"
                    active={currentStep === 1} 
                    completed={currentStep > 1} 
                />
                <StepItem 
                    number={2} 
                    title="Cover Selection" 
                    description="Select a view for your card"
                    active={currentStep === 2} 
                    completed={currentStep > 2} 
                />
                <StepItem 
                    number={3} 
                    title="Metadata" 
                    description="Fill in the model metadata"
                    active={currentStep === 3} 
                    completed={false}
                    isLast={true}
                />
            </div>
        </div>
        
        {/* 底部按鈕 */}
        <div className="flex gap-4 mb-0 mt-5 px-4">
            <Button 
                {...(currentStep === 1 ? { as: Link, href: "/" } : { onPress: onBack })}
                className="font-inter text-white flex-1 bg-[#18181B] shadow-[0px_0px_2px_0px_#000000B2,inset_0px_-4px_4px_0px_#00000040,inset_0px_4px_2px_0px_#FFFFFF33]" 
                >
                <MoveLeft size={15} className="mr-2"/>
                {currentStep === 1 ? "Cancel" :"Back"}
            </Button>

            {/* 右側按鈕：Step 3 時執行 onCreate，其他時候執行 onNext */}
            <Button 
                    //undefined is "onCreate" replacer
                onPress={currentStep === 3 ? undefined : onNext}
                className="font-inter text-white flex-1 bg-[#D70036] shadow-[0px_0px_2px_0px_#000000B2,inset_0px_-4px_4px_0px_#00000040,inset_0px_4px_2px_0px_#FFFFFF33]"
                >
                {currentStep === 3 ? "Create" : "Next"}
                <MoveRight size={15} className="ml-2"/>
            </Button>
        </div>
    </aside>

);
}

export default SidebarUpload;
