// prisma/schema/model.prisma

model Model {
    id       String @id @default(uuid())
    shortId  String @unique // 用於分享的短 ID
    name     String // 原始檔名
    fileId   String @unique // MinIO / Tus ID (關鍵關聯)

    // 建立與 User 的關聯
    uploaderId String // 外鍵欄位
    uploader User   @relation(fields: [uploaderId], references: [id])
    size     String    @default("") // 檔案大小 (bytes)

    status       ProcessStatus @default(uploading)
    errorMessage String?

    // 關聯：Prisma 會自動跨檔案識別 Post 模型
    posts Post[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}
